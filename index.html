<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>DJ Player Pro</title>

<style>
    body {
        margin: 0;
        background: linear-gradient(135deg, #0d0d0d, #222);
        color: #fff;
        font-family: Arial, Helvetica, sans-serif;
        text-align: center;
        padding: 20px;
    }

    h1 {
        margin-top: 20px;
        font-size: 40px;
        letter-spacing: 2px;
        text-shadow: 0px 0px 10px #00eaff;
    }

    #player-box {
        margin: 30px auto;
        padding: 20px;
        width: 350px;
        background: #111;
        border-radius: 15px;
        box-shadow: 0px 0px 20px #00eaff77;
    }

    button {
        border: none;
        padding: 12px 25px;
        margin: 10px;
        font-size: 18px;
        border-radius: 8px;
        cursor: pointer;
        transition: 0.2s;
        background: #00eaff;
        color: #000;
        font-weight: bold;
    }

    button:hover {
        transform: scale(1.1);
        background: #00bcd4;
    }

    #playlist {
        margin-top: 20px;
        text-align: left;
        max-width: 350px;
        margin-left: auto;
        margin-right: auto;
        background: #00000044;
        border-radius: 10px;
        padding: 10px;
    }

    .song {
        padding: 8px;
        cursor: pointer;
        border-bottom: 1px solid #444;
    }

    .song:hover {
        background: #222;
    }

    .active {
        background: #00eaff44;
        font-weight: bold;
    }

    #volume-box {
        margin-top: 20px;
    }

    #info {
        margin-top: 20px;
        font-size: 22px;
        text-shadow: 0px 0px 5px #00eaff;
    }
</style>
</head>
<body>

<h1>üéß DJ Player Pro</h1>

<div id="player-box">
    <audio id="player"></audio>

    <div>
        <button onclick="prevSong()">‚èÆÔ∏è Prev</button>
        <button onclick="playPause()">‚ñ∂Ô∏è Play / ‚è∏Ô∏è Pause</button>
        <button onclick="nextSong()">‚è≠Ô∏è Next</button>
    </div>

    <div id="volume-box">
        <label>üîä Volume: </label>
        <input type="range" id="volume" min="0" max="1" step="0.01" value="1">
    </div>

    <div id="info">Loading...</div>
</div>

<h2>Playlist</h2>
<div id="playlist"></div>

<script>
const playlist = ["ton.mp3", "god.mp3"];

let index = 0;
let activePlayer = "A";

const playerA = new Audio();
const playerB = new Audio();

playerA.volume = 1;
playerB.volume = 0;

playerA.src = playlist[0];
playerB.src = playlist[1];

function play() {
    if (activePlayer === "A") playerA.play();
    else playerB.play();
}

function nextSong() {
    let oldPlayer = activePlayer === "A" ? playerA : playerB;
    let newPlayer = activePlayer === "A" ? playerB : playerA;

    index = (index + 1) % playlist.length;

    newPlayer.src = playlist[index];
    newPlayer.volume = 0;
    newPlayer.play();

    // CROSSFADE 2 SECONDS
    let fade = setInterval(() => {
        oldPlayer.volume -= 0.05;
        newPlayer.volume += 0.05;

        if (newPlayer.volume >= 1) {
            clearInterval(fade);
            oldPlayer.pause();
        }
    }, 100);

    activePlayer = activePlayer === "A" ? "B" : "A";

    document.getElementById("info").textContent =
        "Mixing into: " + playlist[index];

    renderPlaylist();
}

function prevSong() {
    index = (index - 1 + playlist.length) % playlist.length;
    playerA.src = playlist[index];
    playerA.play();
    activePlayer = "A";
    renderPlaylist();
}

function playPause() {
    if (activePlayer === "A") {
        if (playerA.paused) playerA.play(); else playerA.pause();
    } else {
        if (playerB.paused) playerB.play(); else playerB.pause();
    }
}

function renderPlaylist() {
    const listBox = document.getElementById("playlist");
    listBox.innerHTML = "";
    playlist.forEach((song, i) => {
        const div = document.createElement("div");
        div.textContent = song;
        div.className = "song" + (i === index ? " active" : "");
        div.onclick = () => {
            index = i;
            playerA.src = playlist[index];
            playerA.play();
            activePlayer = "A";
            renderPlaylist();
        };
        listBox.appendChild(div);
    });
}

renderPlaylist();
play();
</script>
</body>
</html>
